{"version":3,"sources":["utils/constants.js","redux/reducers/albums.js","redux/reducers/artists.js","redux/reducers/playlist.js","redux/store.js","components/Header.js","components/Home.js","utils/functions.js","components/RedirectPage.js","utils/api.js","redux/actions/results.js","assets/images/music.jpeg","components/AlbumsList.js","components/ArtistsList.js","components/PlayList.js","components/SearchResult.js","components/SearchForm.js","components/Loader.js","components/Dashboard.js","components/NotFoundPage.js","router/AppRouter.js","index.js"],"names":["SET_ALBUMS","ADD_ALBUMS","SET_ARTISTS","ADD_ARTISTS","SET_PLAYLIST","ADD_PLAYLIST","albumsReducer","state","action","albums","type","next","items","artistsReducer","artists","nex","playlistReducer","playlists","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","playlist","applyMiddleware","thunk","Header","className","connect","props","process","REACT_APP_CLIENT_ID","REACT_APP_AUTHORIZED_URL","REACT_APP_REDIRECT_URL","isValidSession","location","sessionExpired","session_expired","to","Alert","variant","Button","onClick","e","preventDefault","href","setAuthHeader","params","JSON","parse","localStorage","getItem","axios","defaults","headers","common","access_token","error","console","log","RedirectPage","this","setExpiryTime","history","_","isEmpty","hash","push","slice","split","reduce","prev","curr","title","value","expiryTime","Date","getTime","expires_in","setItem","stringify","Component","get","url","a","result","data","setAlbums","setArtists","setPlaylist","initiateLoadMoreAlbums","dispatch","initiateLoadMoreArtists","initiateLoadMorePlaylist","AlbumsList","Object","keys","length","map","album","index","Card","style","width","target","external_urls","spotify","rel","images","src","music","alt","Img","Body","Title","name","Text","artist","join","ArtistsList","PlayList","item","owner","display_name","SearchResult","loadMore","setCategory","selectedCategory","pathname","SearchForm","useState","searchTerm","setSearchTerm","errorMsg","setErrorMsg","Form","onSubmit","event","trim","handleSearch","Group","controlId","Label","Control","placeholder","onChange","autoComplete","Loader","document","createElement","node","loader","querySelector","useEffect","appendChild","classList","add","show","remove","body","ReactDOM","createPortal","children","isLoading","setIsLoading","setSelectedCategory","API_URL","encodeURIComponent","initiateGetResult","then","category","NotFoundPage","AppRouter","setState","path","exact","render","component","getElementById"],"mappings":"wNACaA,EAAa,aACbC,EAAa,aACbC,EAAc,cACdC,EAAc,cACdC,EAAe,eACfC,EAAe,eCabC,EAjBO,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCAEpCC,EAAWD,EAAXC,OACR,OAAQD,EAAOE,MACb,KAAKV,EACH,OAAOS,EACT,KAAKR,EACH,OAAO,2BACFM,GADL,IAEEI,KAAMF,EAAOE,KACbC,MAAM,GAAD,mBAAML,EAAMK,OAAZ,YAAsBH,EAAOG,UAEtC,QACE,OAAOL,ICIEM,EAjBQ,WAAwB,IAAvBN,EAAsB,uDAAf,GAAIC,EAAW,uCAEpCM,EAAYN,EAAZM,QACR,OAAQN,EAAOE,MACb,KAAKR,EACH,OAAOY,EACT,KAAKX,EACH,OAAO,2BACFI,GADL,IAEEQ,IAAKD,EAAQH,KACbC,MAAM,GAAD,mBAAML,EAAMK,OAAZ,YAAsBE,EAAQF,UAEvC,QACE,OAAOL,ICKES,EAlBS,WAAyB,IAAxBT,EAAuB,uDAAf,GAAIC,EAAW,uCAEtCS,EAAcT,EAAdS,UACR,OAAQT,EAAOE,MAEb,KAAKN,EACH,OAAOa,EACT,KAAKZ,EACH,OAAO,2BACFE,GADL,IAEEI,KAAMM,EAAUN,KAChBC,MAAM,GAAD,mBAAML,EAAMK,OAAZ,YAAsBK,EAAUL,UAEzC,QACE,OAAOL,ICVPW,EAAmBC,OAAOC,sCAAwCC,IAWzDC,EATDC,YACZC,YAAgB,CACdf,OAAQH,EACRQ,QAASD,EACTY,SAAUT,IAEZE,EAAiBQ,YAAgBC,O,+DCRpBC,EAJA,WACb,OAAO,oBAAIC,UAAU,eAAd,mCCyCMC,iBAtCF,SAACC,GAAW,IAAD,EAMlBC,oTAHFC,EAHoB,EAGpBA,oBACAC,EAJoB,EAIpBA,yBACAC,EALoB,EAKpBA,uBAYMC,EAA6BL,EAA7BK,eACA7B,EAD6BwB,EAAbM,SAChB9B,MACF+B,EAAiB/B,GAASA,EAAMgC,gBAEtC,OACE,cAAC,WAAD,UACGH,IACC,cAAC,IAAD,CAAWI,GAAG,eAEd,sBAAKX,UAAU,QAAf,UACE,cAAC,EAAD,IACCS,GACC,cAACG,EAAA,EAAD,CAAOC,QAAQ,OAAf,kDAEF,cAACC,EAAA,EAAD,CAAQD,QAAQ,OAAOhC,KAAK,SAASkC,QAvBzB,SAACC,GACnBA,EAAEC,iBAEF3B,OAAOkB,SAASU,KAAhB,UAA0Bb,EAA1B,sBAAgED,EAAhE,yBAAoGE,EAApG,0CAoBM,sC,0CCvBGa,EAAgB,WAC3B,IACE,IAAMC,EAASC,KAAKC,MAAMC,aAAaC,QAAQ,WAE5CJ,IACDK,IAAMC,SAASC,QAAQC,OAAvB,+BAEcR,EAAOS,eAExB,MAAMC,GACLC,QAAQC,IAAI,qBAAsBF,KCQvBG,E,kLA1BO,IAAD,EAC4BC,KAAKhC,MAA1CiC,EADS,EACTA,cAAeC,EADN,EACMA,QAAS5B,EADf,EACeA,SAEhC,IACE,GAAG6B,IAAEC,QAAQ9B,EAAS+B,MACpB,OAAOH,EAAQI,KAAK,cAGtB,IAAMX,EAA8BrB,EAAS+B,KDT9CE,MAAM,GACNC,MAAM,KACNC,QAAO,SAACC,EAAMC,GAAU,IAAD,EACCA,EAAKH,MAAM,KADZ,mBACfI,EADe,KACRC,EADQ,KAGtB,OADAH,EAAKE,GAASC,EACPH,IACP,ICIMI,GAAa,IAAIC,MAAOC,UAAsC,IAA1BrB,EAAasB,WACvD5B,aAAa6B,QAAQ,SAAU/B,KAAKgC,UAAUxB,IAC9CN,aAAa6B,QAAQ,cAAeJ,GACpCjB,QAAQC,IAAIgB,GACZb,EAAca,GACdZ,EAAQI,KAAK,cAEd,MAAMV,GACLM,EAAQI,KAAK,Q,+BAKf,OAAO,S,GAxBgBc,a,wBCDdC,EAAG,uCAAG,WAAOC,EAAKpC,GAAZ,eAAAqC,EAAA,6DAEjBtC,IAFiB,SAGIM,IAAM8B,IAAIC,EAAKpC,GAHnB,cAGXsC,EAHW,yBAIVA,EAAOC,MAJG,2CAAH,wDCOHC,EAAY,SAAAhF,GAAM,MAAK,CAClCC,KAAMV,EACNS,WAaWiF,EAAa,SAAA5E,GAAO,MAAK,CACpCJ,KAAMR,EACNY,YAGW6E,EAAc,SAAA1E,GAAS,MAAK,CACvCP,KAAMN,EACNa,cA8BW2E,EAAyB,SAAAP,GAEpC,8CAAO,WAAMQ,GAAN,eAAAP,EAAA,+EAEkBF,EAAIC,GAFtB,cAEGE,EAFH,yBAGIM,GApDYpF,EAoDO8E,EAAO9E,OApDH,CAClCC,KAAMT,EACNQ,aA+CO,gCAKHmD,QAAQC,IAAI,QAAZ,MALG,kCAjDgB,IAAApD,IAiDhB,oBAAP,uDAUWqF,EAA0B,SAAAT,GACrC,8CAAO,WAAMQ,GAAN,eAAAP,EAAA,+EAEkBF,EAAIC,GAFtB,cAEGE,EAFH,yBAGIM,GA1Da/E,EA0DOyE,EAAOzE,QA1DF,CACpCJ,KAAMP,EACNW,cAqDO,gCAKH8C,QAAQC,IAAI,QAAZ,MALG,kCAvDiB,IAAA/C,IAuDjB,oBAAP,uDAUWiF,EAA2B,SAACV,GACvC,8CAAO,WAAOQ,GAAP,eAAAP,EAAA,+EAEkBF,EAAIC,GAFtB,cAEGE,EAFH,yBAGIM,GAtDc5E,EAsDOsE,EAAOtE,UAtDA,CACvCP,KAAML,EACNY,gBAiDO,gCAKH2C,QAAQC,IAAI,QAAZ,MALG,kCAnDkB,IAAA5C,IAmDlB,oBAAP,uD,QCtFa,MAA0B,mCC+C1B+E,EA1CI,SAAC,GAAgB,IAAdvF,EAAa,EAAbA,OAEpB,OACE,cAAC,WAAD,UACGwF,OAAOC,KAAKzF,GAAQ0F,OAAS,GAC5B,qBAAKtE,UAAU,SAAf,SACGpB,EAAOG,MAAMwF,KAAI,SAACC,EAAMC,GACvB,OACE,cAAC,WAAD,UACE,eAACC,EAAA,EAAD,CAAMC,MAAO,CAAEC,MAAO,SAAtB,UACE,mBAAGC,OAAO,SACP3D,KAAMsD,EAAMM,cAAcC,QAC1BC,IAAI,sBACJhF,UAAU,kBAHb,SAIIqC,IAAEC,QAAQkC,EAAMS,QAOhB,qBAAKC,IAAKC,EAAOC,IAAI,KANrB,cAACV,EAAA,EAAKW,IAAN,CACExE,QAAQ,MACRqE,IAAKV,EAAMS,OAAO,GAAGzB,IACrB4B,IAAI,OAMV,eAACV,EAAA,EAAKY,KAAN,WACE,cAACZ,EAAA,EAAKa,MAAN,UAAaf,EAAMgB,OACnB,cAACd,EAAA,EAAKe,KAAN,UACE,gCACGjB,EAAMvF,QAAQsF,KAAI,SAACmB,GAAD,OAAYA,EAAOF,QAAMG,KAAK,iBApB5ClB,WC+BdmB,EAvCK,SAAC,GAAiB,IAAf3G,EAAc,EAAdA,QAErB,OACE,cAAC,WAAD,UACGmF,OAAOC,KAAKpF,GAASqF,OAAS,GAC7B,qBAAKtE,UAAU,UAAf,SACGf,EAAQF,MAAMwF,KAAI,SAACmB,EAAQjB,GAC1B,OACE,cAAC,WAAD,UACE,eAACC,EAAA,EAAD,CAAMC,MAAO,CAAEC,MAAO,SAAtB,UACE,mBACEC,OAAO,SACP3D,KAAMwE,EAAOZ,cAAcC,QAC3BC,IAAI,sBACJhF,UAAU,kBAJZ,SAMIqC,IAAEC,QAAQoD,EAAOT,QAOjB,qBAAKC,IAAKC,EAAOC,IAAI,KANrB,cAACV,EAAA,EAAKW,IAAN,CACExE,QAAQ,MACRqE,IAAKQ,EAAOT,OAAO,GAAGzB,IACtB4B,IAAI,OAMV,cAACV,EAAA,EAAKY,KAAN,UACE,cAACZ,EAAA,EAAKa,MAAN,UAAaG,EAAOF,aAnBXf,WC+BdoB,GAtCE,SAAC,GAAkB,IAAhBjG,EAAe,EAAfA,SAElB,OACE,8BACGwE,OAAOC,KAAKzE,GAAU0E,OAAS,GAC9B,qBAAKtE,UAAU,WAAf,SACGJ,EAASb,MAAMwF,KAAI,SAACuB,EAAMrB,GACzB,OACE,cAAC,WAAD,UACE,eAACC,EAAA,EAAD,CAAMC,MAAO,CAAEC,MAAO,SAAtB,UACE,mBACEC,OAAO,SACP3D,KAAM4E,EAAKhB,cAAcC,QACzBC,IAAI,sBACJhF,UAAU,kBAJZ,SAMIqC,IAAEC,QAAQwD,EAAKb,QAGf,qBAAKC,IAAKC,EAAOC,IAAI,KAFrB,cAACV,EAAA,EAAKW,IAAN,CAAUxE,QAAQ,MAAMqE,IAAKY,EAAKb,OAAO,GAAGzB,IAAK4B,IAAI,OAKzD,eAACV,EAAA,EAAKY,KAAN,WACE,cAACZ,EAAA,EAAKa,MAAN,UAAaO,EAAKN,OAClB,cAACd,EAAA,EAAKe,KAAN,UACE,6CAAcK,EAAKC,MAAMC,yBAjBlBvB,WCqDdwB,GA3DM,SAAA/F,GAAU,IAG3BK,EAKEL,EALFK,eACA2F,EAIEhG,EAJFgG,SACAxC,EAGExD,EAHFwD,OACAyC,EAEEjG,EAFFiG,YACAC,EACElG,EADFkG,iBAEMxH,EAA8B8E,EAA9B9E,OAAQK,EAAsByE,EAAtBzE,QAASW,EAAa8D,EAAb9D,SAEzB,OAAIW,IAcF,eAAC,WAAD,WACE,sBAAKP,UAAU,iBAAf,WACIqC,IAAEC,QAAQ1D,EAAOG,QACjB,wBAAQiB,UAAS,UAA0B,WAArBoG,EAAgC,aAAc,OAASrF,QAAU,kBAAMoF,EAAY,WAAzG,qBAEA9D,IAAEC,QAAQrD,EAAQF,QAClB,wBAAQiB,UAAS,UAA0B,YAArBoG,EAAiC,aAAc,OAASrF,QAAU,kBAAMoF,EAAY,YAA1G,sBAEA9D,IAAEC,QAAQ1C,EAASb,QACnB,wBAAQiB,UAAS,UAA0B,aAArBoG,EAAkC,aAAc,OAASrF,QAAU,kBAAMoF,EAAY,aAA3G,0BAGJ,qBAAKnG,UAAS,UAA0B,WAArBoG,EAAgC,GAAK,QAAxD,SACGxH,GAAU,cAAC,EAAD,CAAYA,OAAQA,MAEjC,qBAAKoB,UAAS,UAA0B,YAArBoG,EAAiC,GAAK,QAAzD,SACGnH,GAAW,cAAC,EAAD,CAAaA,QAASA,MAEpC,qBAAKe,UAAS,UAA0B,aAArBoG,EAAkC,GAAK,QAA1D,SACGxG,GAAY,cAAC,GAAD,CAAUA,SAAUA,OAEjCyC,IAAEC,QAAQoB,EAAO0C,MAChB/D,IAAEC,QAAQoB,EAAO0C,GAAkBtH,OAClC,qBAAKkB,UAAU,YAAYe,QAAS,kBAAMmF,EAASE,IAAnD,SACE,cAACtF,EAAA,EAAD,CAAQD,QAAQ,OAAOhC,KAAK,SAA5B,4BApCN,cAAC,IAAD,CACE8B,GAAI,CACF0F,SAAU,IACV3H,MAAO,CACLgC,iBAAiB,O,SCoBd4F,GA1CI,SAAApG,GAAU,IAAD,EAEUqG,mBAAS,IAFnB,mBAEnBC,EAFmB,KAEPC,EAFO,OAGMF,mBAAS,IAHf,mBAGnBG,EAHmB,KAGTC,EAHS,KAqB1B,OACE,8BACE,eAACC,GAAA,EAAD,CAAMC,SAbW,SAAAC,GACnBA,EAAM7F,iBAEmB,KAAtBuF,EAAWO,QACZJ,EAAY,IACZzG,EAAM8G,aAAaR,IAEnBG,EAAY,+BAMZ,UACGD,GAAY,mBAAG1G,UAAU,WAAb,SAA0B0G,IACvC,eAACE,GAAA,EAAKK,MAAN,CAAYC,UAAU,iBAAtB,UACE,cAACN,GAAA,EAAKO,MAAN,gCACA,cAACP,GAAA,EAAKQ,QAAN,CACEvI,KAAK,SACL2G,KAAK,aACLzC,MAAQyD,EACRa,YAAY,uCACZC,SA3BgB,SAAAR,GACxB,IAAMN,EAAaM,EAAMjC,OAAO9B,MAChC0D,EAAcD,IA0BNe,aAAa,WAGjB,cAACzG,EAAA,EAAD,CAAQD,QAAQ,OAAOhC,KAAK,SAA5B,0BCbO2I,GAvBA,SAAAtH,GAAU,IAAD,EAEPqG,mBAASkB,SAASC,cAAc,QAAxCC,EAFe,oBAGhBC,EAASH,SAASI,cAAc,WAiBtC,OAfAC,qBAAU,WACRF,EAAOG,YAAYJ,GAAMK,UAAUC,IAAI,aACtC,CAACL,EAAQD,IAEZG,qBAAU,WAEL5H,EAAMgI,MACPN,EAAOI,UAAUG,OAAO,QACxBV,SAASW,KAAKJ,UAAUC,IAAI,iBAE5BL,EAAOI,UAAUC,IAAI,QACrBR,SAASW,KAAKJ,UAAUG,OAAO,kBAEhC,CAACP,EAAQ1H,EAAMgI,OAEXG,IAASC,aAAapI,EAAMqI,SAAUZ,ICwFhC1H,gBATS,SAAAvB,GAEtB,MAAO,CACLE,OAAQF,EAAME,OACdK,QAASP,EAAMO,QACfW,SAAUlB,EAAMkB,YAILK,EAhGG,SAACC,GAAW,IAAD,EAEOqG,oBAAS,GAFhB,mBAEpBiC,EAFoB,KAETC,EAFS,OAGqBlC,mBAAS,UAH9B,mBAGpBH,EAHoB,KAGFsC,EAHE,KAInBnI,EAA4BL,EAA5BK,eAAgB6B,EAAYlC,EAAZkC,QAmBlB8D,EAAQ,uCAAG,WAAMrH,GAAN,qBAAA4E,EAAA,0DACZlD,IADY,iBAELyD,EAAwC9D,EAAxC8D,SAAUpF,EAA8BsB,EAA9BtB,OAAQK,EAAsBiB,EAAtBjB,QAASW,EAAaM,EAAbN,SACnC6I,GAAa,GAHA,KAKL5J,EALK,OAMN,WANM,OASN,YATM,OAYN,aAZM,wCAOHmF,EAASD,EAAuBnF,EAAOE,OAPpC,2DAUHkF,EAASC,EAAwBhF,EAAQH,OAVtC,6DAaHkF,EAASE,EAAyBtE,EAASd,OAbxC,4CAiBb2J,GAAa,GAjBA,wBAmBbrG,EAAQI,KAAK,CACX6D,SAAS,IACT3H,MAAM,CACJgC,iBAAiB,KAtBR,4CAAH,sDAiCRgD,EAAS,CAAE9E,OADqBsB,EAA9BtB,OACiBK,QADaiB,EAAtBjB,QACmBW,SADGM,EAAbN,UAGzB,OACE,cAAC,WAAD,UACGW,IACC,gCACE,cAAC,EAAD,IACA,cAAC,GAAD,CAAayG,aAzDA,SAAAR,GACfjG,KACFkI,GAAa,GACbvI,EAAM8D,SRgBqB,SAAAwC,GAE/B,8CAAO,WAAMxC,GAAN,uBAAAP,EAAA,sEAGGkF,EAHH,kDAGwDC,mBAAmBpC,GAH3E,gDAKkBjD,EAAIoF,GALtB,cAKGjF,EALH,OAMH3B,QAAQC,IAAI0B,GACJ9E,EAA+B8E,EAA/B9E,OAAQK,EAAuByE,EAAvBzE,QAASG,EAAcsE,EAAdtE,UAEzB4E,EAASJ,EAAUhF,IACnBoF,EAASH,EAAW5E,IAVjB,kBAYI+E,EAASF,EAAY1E,KAZzB,kCAeH2C,QAAQC,IAAI,QAAZ,MAfG,0DAAP,sDQlBmB6G,CAAkBrC,IAAasC,MAAK,WACjDL,GAAa,GACbC,EAAoB,cAGtBtG,EAAQI,KAAK,CACX6D,SAAU,IACV3H,MAAO,CACLgC,iBAAiB,QA+CjB,cAAC,GAAD,CAAQwH,KAAMM,EAAd,yBACA,cAAC,GAAD,CACE9E,OAAQA,EACRwC,SAAUA,EACVC,YAjBU,SAAA4C,GAClBL,EAAoBK,IAiBZ3C,iBAAkBA,EAClB7F,eAAgBA,OAIpB,cAAC,IAAD,CACEI,GAAI,CACF0F,SAAU,IACV3H,MAAO,CACLgC,iBAAiB,WC/EhBsI,GAVM,WACnB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,IADF,uBAGE,cAAC,IAAD,CAAMrI,GAAG,aAAT,2BC2DSsI,G,4MA3DbvK,MAAQ,CACNsE,WAAY,K,EAcdb,cAAgB,SAAAa,GACd,EAAKkG,SAAS,CAAElG,gB,EAGlBzC,eAAiB,WAKf,OAJoB,IAAI0C,MAAOC,UACZ,EAAKxE,MAAMsE,Y,kEAhB9B,IAAIA,EAEJ,IACEA,EAAa3B,KAAKC,MAAMC,aAAaC,QAAQ,gBAC9C,MAAMM,GACLkB,EAAa,IAEfd,KAAKgH,SAAS,CAAElG,iB,+BAeT,IAAD,OACN,OACE,cAAC,IAAD,UACE,qBAAKhD,UAAU,OAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEmJ,KAAK,IACLC,OAAQ,EACRC,OAAQ,SAACnJ,GAAD,OACN,cAAC,EAAD,aAAMK,eAAgB,EAAKA,gBAAoBL,OAGnD,cAAC,IAAD,CACEiJ,KAAK,YACLE,OAAQ,SAAAnJ,GAAK,OACX,cAAC,EAAD,aAAciC,cAAe,EAAKA,eAAmBjC,OAGzD,cAAC,IAAD,CACEiJ,KAAK,aACLE,OAAQ,SAACnJ,GAAD,OACN,cAAC,GAAD,aAAWK,eAAgB,EAAKA,gBAAoBL,OAGxD,cAAC,IAAD,CAAOoJ,UAAYN,gB,GArDP1F,a,YCCxB+E,IAASgB,OACP,cAAC,IAAD,CAAU5J,MAAQA,EAAlB,SACE,cAAC,GAAD,MAEFgI,SAAS8B,eAAe,W","file":"static/js/main.a9f078b8.chunk.js","sourcesContent":["\r\nexport const SET_ALBUMS = 'SET_ALBUMS';\r\nexport const ADD_ALBUMS = 'ADD_ALBUMS';\r\nexport const SET_ARTISTS = 'SET_ARTISTS';\r\nexport const ADD_ARTISTS = 'ADD_ARTISTS';\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST';\r\nexport const ADD_PLAYLIST = 'ADD_PLAYLIST';\r\n","import { SET_ALBUMS, ADD_ALBUMS } from '../../utils/constants';\r\n\r\nconst albumsReducer = (state = {}, action) => {\r\n\r\n  const { albums } = action;\r\n  switch (action.type) {\r\n    case SET_ALBUMS:\r\n      return albums;\r\n    case ADD_ALBUMS:\r\n      return {\r\n        ...state,\r\n        next: albums.next,\r\n        items: [...state.items, ...albums.items]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default albumsReducer;","import { SET_ARTISTS, ADD_ARTISTS } from '../../utils/constants';\r\n\r\nconst artistsReducer = (state ={}, action) => {\r\n\r\n  const { artists } = action;\r\n  switch (action.type) {\r\n    case SET_ARTISTS:\r\n      return artists;\r\n    case ADD_ARTISTS:\r\n      return {\r\n        ...state,\r\n        nex: artists.next,\r\n        items: [...state.items, ...artists.items]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default artistsReducer;","import { SET_PLAYLIST, ADD_PLAYLIST } from '../../utils/constants';\r\n\r\nconst playlistReducer = (state = {}, action) => {\r\n\r\n  const { playlists } = action;\r\n  switch (action.type) {\r\n\r\n    case SET_PLAYLIST:\r\n      return playlists;\r\n    case ADD_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        next: playlists.next,\r\n        items: [...state.items, ...playlists.items]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default playlistReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport albumsReducer from './reducers/albums';\r\nimport artistsReducer from './reducers/artists';\r\nimport playlistReducer from './reducers/playlist';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    albums: albumsReducer,\r\n    artists: artistsReducer,\r\n    playlist: playlistReducer\r\n  }),\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n\r\nexport default store;","import React from 'react';\r\n\r\nconst Header = () => {\r\n  return <h1 className=\"main-heading\">Spotify Music Search</h1>\r\n}\r\n\r\nexport default Header;","import React,{ Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Alert } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Header from './Header';\r\n\r\nconst Home = (props) => {\r\n\r\n  const {\r\n    REACT_APP_CLIENT_ID,\r\n    REACT_APP_AUTHORIZED_URL,\r\n    REACT_APP_REDIRECT_URL\r\n  } = process.env;\r\n  \r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    \r\n    window.location.href = `${REACT_APP_AUTHORIZED_URL}?client_id=${REACT_APP_CLIENT_ID}&redirect_uri=${REACT_APP_REDIRECT_URL}&response_type=token&show_dialog=true`; \r\n\r\n    // console.log(REACT_APP_CLIENT_ID,REACT_APP_REDIRECT_URL,REACT_APP_AUTHORIZED_URL);\r\n    // console.log('saluuuute'+app);\r\n  }\r\n\r\n  const { isValidSession, location } = props;\r\n  const { state } = location;\r\n  const sessionExpired = state && state.session_expired;\r\n\r\n  return (\r\n    <Fragment>\r\n      {isValidSession() ? (\r\n        <Redirect  to=\"/dashboard\" />\r\n      ) : (\r\n        <div className=\"login\">\r\n          <Header />\r\n          {sessionExpired && (\r\n            <Alert variant=\"info\">Session expired. Please login again.</Alert>\r\n          )}\r\n          <Button variant=\"info\" type=\"submit\" onClick={ handleLogin }>Login to spotify</Button>\r\n        </div> \r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect()(Home);","import axios from 'axios';\r\n\r\nexport const getParamValues = (url) => {\r\n\r\n  return url\r\n    .slice(1)\r\n    .split('&')\r\n    .reduce((prev, curr) => {\r\n      const [title, value] = curr.split('=');\r\n      prev[title] = value;\r\n      return prev;\r\n    },{});\r\n}\r\n\r\nexport const setAuthHeader = () => {\r\n  try{\r\n    const params = JSON.parse(localStorage.getItem('params'));\r\n\r\n    if(params){\r\n      axios.defaults.headers.common[\r\n        'Authorization'\r\n      ] = `Bearer ${params.access_token}`;\r\n    }\r\n  }catch(error){  \r\n    console.log('Error setting auth', error);\r\n  }\r\n}","import { Component } from 'react';\r\nimport _ from 'lodash';\r\nimport { getParamValues } from '../utils/functions';\r\n\r\nclass RedirectPage extends Component{\r\n\r\n  componentDidMount(){\r\n    const { setExpiryTime, history, location } = this.props;\r\n    \r\n    try{\r\n      if(_.isEmpty(location.hash)){\r\n        return history.push('/dashboard');\r\n      }\r\n\r\n      const access_token = getParamValues(location.hash);\r\n      const expiryTime = new Date().getTime() + access_token.expires_in * 1000;\r\n      localStorage.setItem('params', JSON.stringify(access_token));\r\n      localStorage.setItem('expiry_time', expiryTime);\r\n      console.log(expiryTime);\r\n      setExpiryTime(expiryTime);\r\n      history.push('/dashboard');\r\n\r\n    }catch(error){\r\n      history.push('/');\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default RedirectPage;","import axios from 'axios';\r\nimport { setAuthHeader } from './functions';\r\n\r\nexport const get = async (url, params) => {\r\n\r\n  setAuthHeader();\r\n  const result = await axios.get(url, params);\r\n  return result.data;\r\n}\r\n\r\nexport const post = async (url, params) => {\r\n  setAuthHeader();\r\n  const result = await axios.post(url, params);\r\n  return result.data;\r\n}","import { \r\n  SET_ALBUMS, \r\n  ADD_ALBUMS, \r\n  SET_ARTISTS, \r\n  ADD_ARTISTS, \r\n  SET_PLAYLIST, \r\n  ADD_PLAYLIST\r\n} from '../../utils/constants';\r\nimport { get } from '../../utils/api';\r\n\r\nexport const setAlbums = albums => ({\r\n  type: SET_ALBUMS,\r\n  albums\r\n})\r\n\r\nexport const addAlbums = albums => ({\r\n  type: ADD_ALBUMS,\r\n  albums\r\n})\r\n\r\nexport const addArtists = artists => ({\r\n  type: ADD_ARTISTS,\r\n  artists\r\n})\r\n\r\nexport const setArtists = artists => ({\r\n  type: SET_ARTISTS,\r\n  artists\r\n})\r\n\r\nexport const setPlaylist = playlists => ({\r\n  type: SET_PLAYLIST,\r\n  playlists\r\n})\r\n\r\nexport const addPlaylist = playlists => ({\r\n  type: ADD_PLAYLIST,\r\n  playlists\r\n})\r\n\r\nexport const initiateGetResult = searchTerm => {\r\n  \r\n  return async dispatch => {\r\n    try{\r\n\r\n      const API_URL = `https://api.spotify.com/v1/search?query=${encodeURIComponent(searchTerm)}\r\n      &type=album,playlist,artist`;\r\n      const result = await get(API_URL);\r\n      console.log(result);\r\n      const { albums, artists, playlists } = result;\r\n      \r\n      dispatch(setAlbums(albums));\r\n      dispatch(setArtists(artists));\r\n\r\n      return dispatch(setPlaylist(playlists));\r\n\r\n    }catch(error){\r\n      console.log('error', error);\r\n    }\r\n  }\r\n\r\n}\r\nexport const initiateLoadMoreAlbums = url => {\r\n  \r\n  return async dispatch => {\r\n    try{\r\n      const result = await get(url);\r\n      return dispatch(addAlbums(result.albums));\r\n    }catch(error){\r\n      console.log('error', error);\r\n    }\r\n  }\r\n}\r\n\r\nexport const initiateLoadMoreArtists = url => {\r\n  return async dispatch => {\r\n    try{\r\n      const result = await get(url);\r\n      return dispatch(addArtists(result.artists));\r\n    }catch(error){\r\n      console.log('error', error);\r\n    }\r\n  }\r\n}\r\n\r\nexport const initiateLoadMorePlaylist = (url) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await get(url);\r\n      return dispatch(addPlaylist(result.playlists));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};","export default __webpack_public_path__ + \"static/media/music.b2fe7d4d.jpeg\";","import React, { Fragment } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../assets/images/music.jpeg';\r\n\r\nconst AlbumsList = ({ albums }) => {\r\n\r\n  return (\r\n    <Fragment>\r\n      {Object.keys(albums).length > 0 && (\r\n        <div className=\"albums\">\r\n          {albums.items.map((album,index) => {\r\n            return (\r\n              <Fragment key={index}>\r\n                <Card style={{ width: '18rem'}}>\r\n                  <a target=\"_blank\" \r\n                     href={album.external_urls.spotify}\r\n                     rel=\"noopener noreferrer\"\r\n                     className=\"card-image-link\">\r\n                    {!_.isEmpty(album.images) ? (\r\n                      <Card.Img \r\n                        variant=\"top\"\r\n                        src={album.images[0].url}\r\n                        alt=\"\"\r\n                      />\r\n                    ) : (\r\n                      <img src={music} alt=\"\"/>\r\n                    )}\r\n                  </a>\r\n                  <Card.Body>\r\n                    <Card.Title>{album.name}</Card.Title>\r\n                    <Card.Text>\r\n                      <small>\r\n                        {album.artists.map((artist) => artist.name).join(', ')}\r\n                      </small>\r\n                    </Card.Text>\r\n                  </Card.Body> \r\n                </Card>\r\n              </Fragment>\r\n            )\r\n          })}\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default AlbumsList;","import React, { Fragment } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../assets/images/music.jpeg';\r\n\r\nconst ArtistsList = ({ artists }) => {\r\n\r\n  return (\r\n    <Fragment>\r\n      {Object.keys(artists).length > 0 && (\r\n        <div className=\"artists\">\r\n          {artists.items.map((artist, index) => {\r\n            return (\r\n              <Fragment key={index}>\r\n                <Card style={{ width: '18rem'}}>\r\n                  <a\r\n                    target=\"_blank\" \r\n                    href={artist.external_urls.spotify}\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"card-image-link\"\r\n                  >\r\n                    {!_.isEmpty(artist.images) ?(\r\n                      <Card.Img \r\n                        variant=\"top\"\r\n                        src={artist.images[0].url}\r\n                        alt=\"\"\r\n                      />                    \r\n                    ) : (\r\n                      <img src={music} alt=\"\" />\r\n                    )}\r\n                  </a>\r\n                  <Card.Body>\r\n                    <Card.Title>{artist.name}</Card.Title>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Fragment>\r\n            )\r\n          })}\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default ArtistsList;","import React, { Fragment } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../assets/images/music.jpeg';\r\n\r\n\r\nconst PlayList = ({ playlist }) => {\r\n\r\n  return (\r\n    <div>\r\n      {Object.keys(playlist).length > 0 && (\r\n        <div className=\"playlist\">\r\n          {playlist.items.map((item, index) => {\r\n            return (\r\n              <Fragment key={index}>\r\n                <Card style={{ width: '18rem' }}>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href={item.external_urls.spotify}\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"card-image-link\"\r\n                  >\r\n                    {!_.isEmpty(item.images) ? (\r\n                      <Card.Img variant=\"top\" src={item.images[0].url} alt=\"\" />\r\n                    ): (\r\n                      <img src={music} alt=\"\"/>\r\n                    )}\r\n                  </a>\r\n                  <Card.Body>\r\n                    <Card.Title>{item.name}</Card.Title>\r\n                    <Card.Text>\r\n                      <small>{`By ${item.owner.display_name}`}</small>\r\n                    </Card.Text>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Fragment>\r\n            )\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayList;","import React, { Fragment } from 'react';\r\nimport _ from 'lodash';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport AlbumsList from './AlbumsList';\r\nimport ArtistsList from './ArtistsList';\r\nimport PlayList from './PlayList';\r\n\r\nconst SearchResult = props => {\r\n\r\n  const { \r\n    isValidSession, \r\n    loadMore, \r\n    result, \r\n    setCategory, \r\n    selectedCategory \r\n  } = props;\r\n  const { albums, artists, playlist } = result;\r\n\r\n  if(!isValidSession()){\r\n    return (\r\n      <Redirect \r\n        to={{\r\n          pathname: '/',\r\n          state: {\r\n            session_expired: true\r\n          }\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"search-buttons\">\r\n        {!_.isEmpty(albums.items) && (\r\n          <button className={`${selectedCategory === 'albums' ? 'btn active': 'btn'}`} onClick={ () => setCategory('albums')}>Albums</button>\r\n        )}\r\n        {!_.isEmpty(artists.items) && (\r\n          <button className={`${selectedCategory === 'artists' ? 'btn active': 'btn'}`} onClick={ () => setCategory('artists')}>Artists</button>\r\n        )}\r\n        {!_.isEmpty(playlist.items) && (\r\n          <button className={`${selectedCategory === 'playlist' ? 'btn active': 'btn'}`} onClick={ () => setCategory('playlist')}>PlayLists</button>\r\n        )}\r\n      </div>\r\n      <div className={`${selectedCategory === 'albums' ? '' : 'hide'}`}>\r\n        {albums && <AlbumsList albums={albums} />}\r\n      </div>\r\n      <div className={`${selectedCategory === 'artists' ? '' : 'hide'}`}>\r\n        {artists && <ArtistsList artists={artists} />}\r\n      </div>\r\n      <div className={`${selectedCategory === 'playlist' ? '' : 'hide'}`}>\r\n        {playlist && <PlayList playlist={playlist} />}\r\n      </div>\r\n      {!_.isEmpty(result[selectedCategory]) &&\r\n        !_.isEmpty(result[selectedCategory].next) && (\r\n          <div className=\"load-more\" onClick={() => loadMore(selectedCategory)}>\r\n            <Button variant=\"info\" type=\"button\">\r\n              Load More\r\n            </Button>\r\n          </div>\r\n        )\r\n      }\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default SearchResult;","import React, { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst SearchForm = props => {\r\n\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  const handleInputChange = event => {\r\n    const searchTerm = event.target.value;\r\n    setSearchTerm(searchTerm);\r\n  }\r\n\r\n  const handleSearch = event => {\r\n    event.preventDefault();\r\n\r\n    if(searchTerm.trim() !== ''){\r\n      setErrorMsg('');\r\n      props.handleSearch(searchTerm);\r\n    }else{\r\n      setErrorMsg('Please enter a search term');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Form onSubmit={ handleSearch }>\r\n        {errorMsg && <p className=\"errorMsg\">{ errorMsg }</p>}\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Enter search term</Form.Label>\r\n          <Form.Control  \r\n            type=\"search\"\r\n            name=\"searchTerm\"\r\n            value={ searchTerm }\r\n            placeholder=\"Search for album, artist or playlist\"\r\n            onChange={ handleInputChange }\r\n            autoComplete=\"off\"\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"info\" type=\"submit\">Search</Button>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchForm;","import { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst Loader = props => {\r\n\r\n  const [node] = useState(document.createElement('div'));\r\n  const loader = document.querySelector('#loader');\r\n\r\n  useEffect(() => {\r\n    loader.appendChild(node).classList.add('message');\r\n  }, [loader, node]);\r\n\r\n  useEffect(() => {\r\n\r\n    if(props.show){\r\n      loader.classList.remove('hide');\r\n      document.body.classList.add('loader-open');\r\n    }else{\r\n      loader.classList.add('hide');\r\n      document.body.classList.remove('loader-open');\r\n    }\r\n  }, [loader, props.show])\r\n\r\n  return ReactDOM.createPortal(props.children, node)\r\n}\r\n\r\nexport default Loader;","import React,{ useState, Fragment } from 'react';\r\nimport {\r\n  initiateGetResult,\r\n  initiateLoadMoreAlbums,\r\n  initiateLoadMorePlaylist,\r\n  initiateLoadMoreArtists\r\n} from '../redux/actions/results';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport SearchResult from './SearchResult';\r\nimport SearchForm from './SearchForm';\r\nimport Header from './Header';\r\nimport Loader from './Loader';\r\n\r\n\r\nconst Dashboard = (props) => {\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState('albums');\r\n  const { isValidSession, history } = props;\r\n\r\n  const handleSearch = searchTerm => {\r\n    if (isValidSession()){\r\n      setIsLoading(true);\r\n      props.dispatch(initiateGetResult(searchTerm)).then(()=>{\r\n        setIsLoading(false);\r\n        setSelectedCategory('albums');\r\n      })\r\n    }else{\r\n      history.push({\r\n        pathname: '/',\r\n        state: {\r\n          session_expired: true\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  const loadMore = async type => {\r\n    if(isValidSession()){\r\n      const { dispatch, albums, artists, playlist } = props;\r\n      setIsLoading(true);\r\n\r\n      switch (type) {\r\n        case 'albums':\r\n          await dispatch(initiateLoadMoreAlbums(albums.next));\r\n          break;\r\n        case 'artists':\r\n          await dispatch(initiateLoadMoreArtists(artists.next));\r\n          break;\r\n        case 'playlist':\r\n          await dispatch(initiateLoadMorePlaylist(playlist.next));\r\n          break;\r\n        default:\r\n      }\r\n      setIsLoading(false);\r\n    }else{\r\n      history.push({\r\n        pathname:'/',\r\n        state:{\r\n          session_expired: true\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  const setCategory = category => {\r\n    setSelectedCategory(category);\r\n  }\r\n\r\n  const { albums, artists, playlist } = props;\r\n  const result = { albums, artists , playlist };\r\n\r\n  return (\r\n    <Fragment>\r\n      {isValidSession() ? (\r\n        <div>\r\n          <Header />\r\n          <SearchForm  handleSearch={handleSearch}/>\r\n          <Loader show={isLoading}>Loading ...</Loader>\r\n          <SearchResult \r\n            result={result}\r\n            loadMore={loadMore}\r\n            setCategory={setCategory}\r\n            selectedCategory={selectedCategory}\r\n            isValidSession={isValidSession}\r\n          />\r\n        </div>\r\n      ): (\r\n        <Redirect \r\n          to={{\r\n            pathname: '/',\r\n            state: {\r\n              session_expired: true\r\n            }\r\n          }}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n  return {\r\n    albums: state.albums,\r\n    artists: state.artists,\r\n    playlist: state.playlist\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Dashboard);","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from './Header';\r\n\r\nconst NotFoundPage = () => {\r\n  return (\r\n    <Fragment>\r\n      <Header />\r\n      Page not found. Goto \r\n      <Link to=\"/dashboard\">Home Page</Link>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default NotFoundPage;","import React,{ Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Home from '../components/Home';\r\nimport RedirectPage from '../components/RedirectPage';\r\nimport Dashboard from '../components/Dashboard';\r\nimport NotFoundPage from '../components/NotFoundPage';\r\n\r\nclass AppRouter extends Component{\r\n\r\n  state = {\r\n    expiryTime: '0'\r\n  }\r\n\r\n  componentDidMount(){\r\n    let expiryTime;\r\n\r\n    try{\r\n      expiryTime = JSON.parse(localStorage.getItem('expiry_time'));\r\n    }catch(error){\r\n      expiryTime = '0';\r\n    }\r\n    this.setState({ expiryTime });\r\n  }\r\n\r\n  setExpiryTime = expiryTime => {\r\n    this.setState({ expiryTime });\r\n  }\r\n\r\n  isValidSession = () => {\r\n    const currentTime = new Date().getTime();\r\n    const expiryTime = this.state.expiryTime;\r\n    const isSessionValid = currentTime < expiryTime;\r\n\r\n    return isSessionValid;\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <BrowserRouter>\r\n        <div className=\"main\">\r\n          <Switch>\r\n            <Route \r\n              path=\"/\" \r\n              exact={ true }\r\n              render={(props)=> (\r\n                <Home isValidSession={this.isValidSession} {...props} />  \r\n              )}   \r\n            />\r\n            <Route \r\n              path=\"/redirect\" \r\n              render={props => (\r\n                <RedirectPage setExpiryTime={this.setExpiryTime} {...props} /> \r\n              )} \r\n            />\r\n            <Route \r\n              path=\"/dashboard\" \r\n              render={(props) => (\r\n                <Dashboard isValidSession={this.isValidSession} {...props} />\r\n              )}\r\n            />\r\n            <Route component={ NotFoundPage } />\r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AppRouter;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport AppRouter from './router/AppRouter';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles.css';\n\nReactDOM.render(\n  <Provider store={ store }>\n    <AppRouter />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}